Index: app.js
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>const nodemailer = require('nodemailer');\r\n// const smtpTransport = require('nodemailer-smtp-transport');\r\n\r\nvar transporter = nodemailer.createTransport({\r\n  service: 'gmail',\r\n  auth: {\r\n    user: 'fixitmaster12@gmail.com',\r\n    pass: 'anbbumywwtjenkap'\r\n  }\r\n});\r\n\r\n\r\n\r\n\r\n// const transporter = nodemailer.createTransport(\r\n//   smtpTransport({\r\n//     service: 'SendGrid',\r\n//     auth: {\r\n//       user: process.env.SENDGRID_USERNAME, // Set this as an environment variable in Netlify\r\n//       pass: process.env.SENDGRID_PASSWORD, // Set this as an environment variable in Netlify\r\n//     },\r\n//   })\r\n///// );\r\n\r\n\r\n\r\nconst express = require('express');\r\nconst path = require('path');\r\nconst app = express();\r\napp.use(express.json());\r\napp.use(\r\n  express.urlencoded({\r\n    extended: true,\r\n  })\r\n);\r\n\r\n\r\n\r\n/*app.get('/', (req, res) => {\r\n  res.sendFile(path.join(__dirname, '/index_fr.html'));\r\n});*/\r\n\r\n\r\n\r\napp.post('/submit_form',(req, res) => {\r\n  const body = req.body;\r\n  const activity = body.activity;\r\n  const firstName = body.firstName;\r\n  const lastName = body.lastName;\r\n  const email = body.email;\r\n  const description = body.description;\r\n  const phoneNumber = body.phoneNumber;\r\n  const  address = body.address\r\n\r\n\r\n\r\n  console.log(activity, firstName, lastName, email, description,phoneNumber,address  );\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n  var mailOptions = {\r\n    from: 'fixitmaster12@gmail.com',\r\n    to: 's.zaker115599@gmail.com',\r\n    subject: 'Order Request from Fix-It-Masters',\r\n    text: `Activity: ${activity}\\nFirst Name: ${firstName}\\nLast Name: ${lastName}\\nPhone number:${phoneNumber}\\nEmail: ${email}\\nAddress:${address}\\nDescription: ${description}`\r\n  };\r\n\r\n\r\n\r\n\r\n\r\n\r\n  transporter.sendMail(mailOptions, function(error, info){\r\n    if (error) {\r\n      console.log(error);\r\n      res.status(500).send(\"Failed to send the message. Please try again later.\");\r\n    } else {\r\n      console.log('Email sent: ' + info.response);\r\n      res.status(200).send(\"Message sent successfully!\");\r\n    }\r\n  });\r\n\r\n});\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\napp.use(express.static(path.join(__dirname, 'public')))\r\n\r\nconst port = process.env.PORT || 82;\r\napp.listen(port, () => {\r\n  console.log(`Server started on ${port}`);\r\n});
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app.js b/app.js
--- a/app.js	(revision b098b6d61b873351a2fd59ed775b1fd5692cce15)
+++ b/app.js	(date 1691616660366)
@@ -94,7 +94,7 @@
 
 app.use(express.static(path.join(__dirname, 'public')))
 
-const port = process.env.PORT || 82;
+const port = process.env.PORT || 80;
 app.listen(port, () => {
   console.log(`Server started on ${port}`);
 });
\ No newline at end of file
